[{"title":"hexo+github搭建博客","url":"/Hexo+github%20Build%20Blog/","content":"<p>使用Hexo配合NEXT主题搭建个人主页，再上传到Github repository中来对外发布。</p>\n<span id=\"more\"></span>\n\n\n\n<h2 id=\"0x01-安装环境\"><a href=\"#0x01-安装环境\" class=\"headerlink\" title=\"0x01 安装环境\"></a>0x01 安装环境</h2><p>我这里使用的是Ubuntu20.04</p>\n<h3 id=\"Ubuntu安装nodejs\"><a href=\"#Ubuntu安装nodejs\" class=\"headerlink\" title=\"Ubuntu安装nodejs\"></a>Ubuntu安装nodejs</h3><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">sudo apt update</span><br><span class=\"line\">sudo apt install nodejs</span><br><span class=\"line\">sudo apt install npm</span><br><span class=\"line\">node --version</span><br><span class=\"line\">npm --version</span><br></pre></td></tr></table></figure>\n\n<p>nodejs的版本低于12就会报错，需要升级nodejs，安装一个node版本切换工具 n</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">sudo npm install -g n</span><br><span class=\"line\">sudo n stable</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"0x02-安装Hexo\"><a href=\"#0x02-安装Hexo\" class=\"headerlink\" title=\"0x02 安装Hexo\"></a>0x02 安装Hexo</h2><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">sudo npm install -g hexo-cli</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Hexo创建博客\"><a href=\"#Hexo创建博客\" class=\"headerlink\" title=\"Hexo创建博客\"></a>Hexo创建博客</h3><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">mkdir blog</span><br><span class=\"line\"><span class=\"built_in\">cd</span> blog</span><br><span class=\"line\">hexo init <span class=\"comment\"># 初始化创建博客文件</span></span><br><span class=\"line\">hexo clean <span class=\"comment\"># 清除生成的发布目录</span></span><br><span class=\"line\">hexo generate <span class=\"comment\"># 生成发布目录</span></span><br><span class=\"line\">hexo server <span class=\"comment\"># 开启本地服务</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"0x03-安装NEXT主题\"><a href=\"#0x03-安装NEXT主题\" class=\"headerlink\" title=\"0x03 安装NEXT主题\"></a>0x03 安装NEXT主题</h2><p>在Github项目中<a href=\"https://github.com/theme-next/hexo-theme-next\">NEXT主题</a>是有theme-next来维护的</p>\n<p>在博客根目录下直接用git下载：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> blog</span><br><span class=\"line\">git <span class=\"built_in\">clone</span> https://github.com/theme-next/hexo-theme-next themes/next</span><br></pre></td></tr></table></figure>\n\n<p>此时在 Hexo 中有两份主要的配置文件，其名称都是 <code>_config.yml</code>。      其中，一份位于站点根目录下，主要包含 Hexo 本身的配置；另一份位于主题目录下，这份配置由主题作者提供，主要用于配置主题相关的选项。在以下说明中，将前者称为<code>站点配置文件</code>，后者称为<code>主题配置文件</code>。    </p>\n<p>打开<code>站点配置文件</code>，找到theme字段，将其改为next：</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">theme:</span> <span class=\"string\">next</span></span><br></pre></td></tr></table></figure>\n\n<p>NexT 主题安装完成，启用前使用<code>hexo clean</code> 来清除 Hexo 的缓存，再使用<code>Hexo generate</code>重新生成缓存。</p>\n<h2 id=\"0x04-Gihub发布\"><a href=\"#0x04-Gihub发布\" class=\"headerlink\" title=\"0x04 Gihub发布\"></a>0x04 Gihub发布</h2><h3 id=\"1-Github创建仓库\"><a href=\"#1-Github创建仓库\" class=\"headerlink\" title=\"1 Github创建仓库\"></a>1 Github创建仓库</h3><p>需要创建一个仓库命名为$username.github.io</p>\n<h3 id=\"2-生成Github-Token\"><a href=\"#2-生成Github-Token\" class=\"headerlink\" title=\"2 生成Github Token\"></a>2 生成Github Token</h3><p>在Github的<code>Settings/Developer settings/Personal access tokens</code>中点击右侧的<code>Generate new taken</code>按钮，注意下面还有勾选token的权限范围</p>\n<p><img src=\"1.png\"></p>\n<p>点击下方的<code>Generate token</code>按钮</p>\n<p><img src=\"2.png\"></p>\n<p>token只会显示一次，所以最好将token保存在本地</p>\n<h3 id=\"3-部署网站\"><a href=\"#3-部署网站\" class=\"headerlink\" title=\"3 部署网站\"></a>3 部署网站</h3><p>首先需要修改<code>站点配置文件</code>：</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Deployment</span></span><br><span class=\"line\"><span class=\"comment\">## Docs: https://hexo.io/docs/one-command-deployment</span></span><br><span class=\"line\"><span class=\"attr\">deploy:</span></span><br><span class=\"line\">  <span class=\"attr\">type:</span> <span class=\"string\">git</span></span><br><span class=\"line\">  <span class=\"attr\">repository:</span> <span class=\"string\">https://token@github.com/username/username.github.io.git</span></span><br><span class=\"line\">  <span class=\"attr\">branch:</span> <span class=\"string\">main</span></span><br></pre></td></tr></table></figure>\n\n<p>Hexo安装Git部署插件：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>\n\n<p>设置git信息</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">git config --global user.name <span class=\"string\">&quot;Your Name&quot;</span></span><br><span class=\"line\">git config --global user.email <span class=\"string\">&quot;you@example.com&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>开始部署：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">hexo clean </span><br><span class=\"line\">hexo g </span><br><span class=\"line\">hexo d</span><br></pre></td></tr></table></figure>","categories":["Util"],"tags":["Web前端"]}]